<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bar Chart</title>
    <script src="../../lib/d3/d3.js"></script>
</head>
<body>

<script>
    //    var dataset = [5, 10, 15, 20, 25];
    var dataset = [];
    for (var i = 0; i < 20; i += 1) {
        dataset.push(Math.floor(Math.random() * 30));
    }

    var w = 500, h = 100;

    var svg = d3.select('body').append('svg')
            .attr('width', w)
            .attr('height', h);

    svg.selectAll('rect')
            .data(dataset)
            .enter()
            .append('rect')
            .attr('x', function (d, i) {
                return i * (w / dataset.length);
            })
            .attr('y', function (d) {
                return h - d * 3;
            })
            .attr('width', function (d) {
                return w / dataset.length - 2;
            })
            .attr('height', function (d) {
                return d * 3;
            })
            .attr('fill', 'teal')
            .append('title')
            .text(function (d) {
                return "This value: " + d;
            });

    svg.selectAll('text')
            .data(dataset)
            .enter()
            .append('text')
            .attr('x', function (d, i) {
                return i * (w / dataset.length) + (w / dataset.length - 1) / 2;
            })
            .attr('y', function (d) {
                return h - d * 3 + 14;
            })
            .attr('text-anchor', 'middle')
            .attr('font-size', '11px')
            .attr('font-family', 'sans-serif')
            .attr('fill', 'white')
            .text(function (d) {
                return d;
            });
</script>
</body>
</html>